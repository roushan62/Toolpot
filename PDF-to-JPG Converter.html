<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online tool to convert PDF files to high-quality JPG images instantly in your browser. No server upload required - your files stay private.">
    <meta name="keywords" content="PDF to JPG, PDF converter, image converter, free PDF tool, browser-based PDF conversion">
    <meta name="author" content="Web Tools">
    <title>PDF to JPG Converter | Free Online Tool</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #4895ef;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--light);
            padding: 0;
            margin: 0;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
        }

        header h1 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }

        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 30px;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .card-title i {
            margin-right: 10px;
            color: var(--accent);
        }

        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
        }

        .btn:hover {
            background-color: var(--secondary);
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .btn-accent {
            background-color: var(--accent);
        }

        .btn-accent:hover {
            background-color: #3a7bc8;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .drop-zone {
            border: 2px dashed var(--gray);
            border-radius: var(--border-radius);
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 20px;
        }

        .drop-zone:hover {
            border-color: var(--primary);
        }

        .drop-zone.active {
            border-color: var(--primary);
            background-color: rgba(67, 97, 238, 0.05);
        }

        .drop-zone i {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 15px;
        }

        .drop-zone p {
            margin-bottom: 15px;
        }

        #fileInput {
            display: none;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .option-group {
            flex: 1;
            min-width: 200px;
        }

        select, input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            font-family: 'Poppins', sans-serif;
        }

        select:focus, input[type="number"]:focus {
            outline: none;
            border-color: var(--accent);
        }

        .preview-container {
            display: none;
            margin-top: 30px;
        }

        .preview-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }

        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .preview-item {
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            overflow: hidden;
            position: relative;
        }

        .preview-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        .preview-actions {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background-color: var(--light);
        }

        .preview-page-number {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            text-align: center;
        }

        .stat-card i {
            font-size: 2rem;
            color: var(--accent);
            margin-bottom: 15px;
        }

        .stat-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--secondary);
        }

        .stat-card p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }

        .features {
            margin: 40px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .feature-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .feature-card i {
            font-size: 2rem;
            color: var(--accent);
            margin-bottom: 15px;
        }

        .feature-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }

        .feature-card p {
            color: var(--gray);
        }

        footer {
            text-align: center;
            padding: 30px 0;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid var(--light-gray);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
            
            .preview-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .card {
                padding: 20px 15px;
            }
            
            .preview-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-file-pdf"></i> PDF to JPG Converter</h1>
            <p>Convert your PDF documents to high-quality JPG images instantly in your browser. No uploads, no waiting - your files never leave your computer.</p>
        </header>

        <main>
            <div class="card">
                <h2 class="card-title"><i class="fas fa-cog"></i> Convert PDF to JPG</h2>
                
                <div class="input-group">
                    <div id="dropZone" class="drop-zone">
                        <i class="fas fa-file-upload"></i>
                        <p>Drag & drop your PDF file here or click to browse</p>
                        <button class="btn btn-accent">Select PDF File</button>
                        <input type="file" id="fileInput" accept=".pdf">
                    </div>
                </div>

                <div class="options">
                    <div class="option-group">
                        <label for="imageQuality">Image Quality</label>
                        <select id="imageQuality">
                            <option value="1">High (100%)</option>
                            <option value="0.8" selected>Medium (80%)</option>
                            <option value="0.6">Low (60%)</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label for="imageFormat">Output Format</label>
                        <select id="imageFormat">
                            <option value="jpeg" selected>JPG</option>
                            <option value="png">PNG</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label for="dpi">Resolution (DPI)</label>
                        <select id="dpi">
                            <option value="150">150 DPI (Good)</option>
                            <option value="300" selected>300 DPI (High Quality)</option>
                            <option value="600">600 DPI (Best)</option>
                        </select>
                    </div>
                </div>

                <div class="btn-group">
                    <button id="convertBtn" class="btn" disabled>Convert to JPG</button>
                    <button id="clearBtn" class="btn btn-outline">Clear</button>
                </div>

                <div id="loading" class="loading">
                    <div class="loading-spinner"></div>
                    <p>Processing your PDF file...</p>
                    <p id="progressText">Page 1 of 5</p>
                </div>
            </div>

            <div id="statsContainer" class="stats-grid" style="display: none;">
                <div class="stat-card">
                    <i class="fas fa-file-pdf"></i>
                    <h3>Original PDF</h3>
                    <div class="stat-value" id="originalStats">-</div>
                    <p id="fileName">No file selected</p>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-file-image"></i>
                    <h3>Output Images</h3>
                    <div class="stat-value" id="outputStats">-</div>
                    <p id="imageDetails">Waiting for conversion</p>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <h3>Processing Time</h3>
                    <div class="stat-value" id="timeStats">-</div>
                    <p>From upload to download</p>
                </div>
            </div>

            <div id="previewContainer" class="preview-container">
                <h3 class="preview-title">Converted Images Preview</h3>
                <div id="previewGrid" class="preview-grid"></div>
                <div class="btn-group">
                    <button id="downloadAllBtn" class="btn btn-accent">
                        <i class="fas fa-download"></i> Download All as ZIP
                    </button>
                    <button id="downloadSelectedBtn" class="btn btn-outline" disabled>
                        <i class="fas fa-download"></i> Download Selected
                    </button>
                </div>
            </div>

            <div class="features">
                <h2 class="card-title"><i class="fas fa-star"></i> Why Use Our PDF to JPG Converter?</h2>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-bolt"></i>
                        <h3>Lightning Fast Processing</h3>
                        <p>Our tool processes your PDF files directly in your browser for instant conversion without waiting for server processing.</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-lock"></i>
                        <h3>100% Secure & Private</h3>
                        <p>Your files never leave your computer. All processing happens locally in your browser with no server uploads.</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-mobile-alt"></i>
                        <h3>Mobile Friendly</h3>
                        <p>Works perfectly on all devices including smartphones and tablets. Convert PDFs to JPGs on the go.</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-sliders-h"></i>
                        <h3>Customizable Output</h3>
                        <p>Adjust quality, resolution and format to get exactly the images you need for your project.</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-file-archive"></i>
                        <h3>Batch Download</h3>
                        <p>Download all converted images as a single ZIP file or select specific pages to download.</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-gem"></i>
                        <h3>Premium Quality</h3>
                        <p>Get high-quality JPG images with crisp text and sharp graphics from your PDF documents.</p>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; <span id="year"></span> ToolPot-PDF to JPG Converter. All rights reserved.</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>
    <script>
        // Set PDF.js worker path
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.worker.min.js';
        
        // DOM elements
        const fileInput = document.getElementById('fileInput');
        const dropZone = document.getElementById('dropZone');
        const convertBtn = document.getElementById('convertBtn');
        const clearBtn = document.getElementById('clearBtn');
        const loading = document.getElementById('loading');
        const progressText = document.getElementById('progressText');
        const previewContainer = document.getElementById('previewContainer');
        const previewGrid = document.getElementById('previewGrid');
        const downloadAllBtn = document.getElementById('downloadAllBtn');
        const downloadSelectedBtn = document.getElementById('downloadSelectedBtn');
        const statsContainer = document.getElementById('statsContainer');
        const originalStats = document.getElementById('originalStats');
        const outputStats = document.getElementById('outputStats');
        const timeStats = document.getElementById('timeStats');
        const fileName = document.getElementById('fileName');
        const imageDetails = document.getElementById('imageDetails');
        
        // Variables
        let pdfFile = null;
        let convertedImages = [];
        let startTime = null;
        let selectedImages = [];
        
        // Set current year in footer
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // Event listeners
        fileInput.addEventListener('change', handleFileSelect);
        dropZone.addEventListener('click', () => fileInput.click());
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('active');
        });
        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('active');
        });
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('active');
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                handleFileSelect({ target: fileInput });
            }
        });
        convertBtn.addEventListener('click', convertPdfToImages);
        clearBtn.addEventListener('click', resetTool);
        downloadAllBtn.addEventListener('click', downloadAllImages);
        downloadSelectedBtn.addEventListener('click', downloadSelectedImages);
        
        // Handle file selection
        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            if (file.type !== 'application/pdf') {
                alert('Please select a PDF file.');
                return;
            }
            
            pdfFile = file;
            convertBtn.disabled = false;
            fileName.textContent = file.name;
            originalStats.textContent = (file.size / 1024).toFixed(1) + ' KB';
            
            // Show file info
            statsContainer.style.display = 'grid';
        }
        
        // Convert PDF to images
        async function convertPdfToImages() {
            if (!pdfFile) return;
            
            // Reset previous conversion
            convertedImages = [];
            previewGrid.innerHTML = '';
            previewContainer.style.display = 'none';
            loading.style.display = 'block';
            convertBtn.disabled = true;
            startTime = new Date();
            
            // Get conversion options
            const quality = parseFloat(document.getElementById('imageQuality').value);
            const format = document.getElementById('imageFormat').value;
            const dpi = parseInt(document.getElementById('dpi').value);
            const scale = dpi / 96; // 96 DPI is standard screen resolution
            
            try {
                // Load PDF
                const arrayBuffer = await readFileAsArrayBuffer(pdfFile);
                const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;
                const numPages = pdf.numPages;
                
                // Process each page
                for (let i = 1; i <= numPages; i++) {
                    progressText.textContent = `Page ${i} of ${numPages}`;
                    
                    const page = await pdf.getPage(i);
                    const viewport = page.getViewport({ scale });
                    
                    // Create canvas for rendering
                    const canvas = document.createElement('canvas');
                    const context = canvas.getContext('2d');
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;
                    
                    // Render PDF page to canvas
                    await page.render({
                        canvasContext: context,
                        viewport: viewport
                    }).promise;
                    
                    // Convert canvas to image
                    const imageData = canvas.toDataURL(`image/${format}`, quality);
                    convertedImages.push({
                        data: imageData,
                        pageNumber: i,
                        format: format,
                        width: canvas.width,
                        height: canvas.height
                    });
                    
                    // Update progress
                    if (i < numPages) {
                        await new Promise(resolve => setTimeout(resolve, 100));
                    }
                }
                
                // Conversion complete
                showResults();
            } catch (error) {
                console.error('Error converting PDF:', error);
                alert('An error occurred while converting the PDF. Please try again.');
                resetTool();
            } finally {
                loading.style.display = 'none';
            }
        }
        
        // Show conversion results
        function showResults() {
            // Calculate processing time
            const endTime = new Date();
            const processingTime = (endTime - startTime) / 1000;
            timeStats.textContent = processingTime.toFixed(1) + 's';
            
            // Update output stats
            outputStats.textContent = convertedImages.length;
            imageDetails.textContent = `${convertedImages[0].width}x${convertedImages[0].height}px, ${convertedImages[0].format.toUpperCase()}`;
            
            // Create preview thumbnails
            convertedImages.forEach((image, index) => {
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';
                previewItem.dataset.index = index;
                
                previewItem.innerHTML = `
                    <img src="${image.data}" alt="Page ${image.pageNumber}">
                    <div class="preview-page-number">Page ${image.pageNumber}</div>
                    <div class="preview-actions">
                        <button class="btn-select" data-index="${index}">
                            <i class="far ${selectedImages.includes(index) ? 'fa-check-square' : 'fa-square'}"></i>
                        </button>
                        <button class="btn-download-single" data-index="${index}">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                `;
                
                previewGrid.appendChild(previewItem);
            });
            
            // Add event listeners for preview items
            document.querySelectorAll('.btn-select').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.currentTarget.dataset.index);
                    toggleImageSelection(index);
                    e.stopPropagation();
                });
            });
            
            document.querySelectorAll('.btn-download-single').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.currentTarget.dataset.index);
                    downloadSingleImage(index);
                    e.stopPropagation();
                });
            });
            
            document.querySelectorAll('.preview-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    if (e.target.closest('button')) return;
                    const index = parseInt(item.dataset.index);
                    toggleImageSelection(index);
                });
            });
            
            // Show preview container
            previewContainer.style.display = 'block';
            downloadSelectedBtn.disabled = true;
        }
        
        // Toggle image selection
        function toggleImageSelection(index) {
            const btn = document.querySelector(`.btn-select[data-index="${index}"]`);
            const icon = btn.querySelector('i');
            
            if (selectedImages.includes(index)) {
                selectedImages = selectedImages.filter(i => i !== index);
                icon.classList.remove('fa-check-square');
                icon.classList.add('fa-square');
            } else {
                selectedImages.push(index);
                icon.classList.remove('fa-square');
                icon.classList.add('fa-check-square');
            }
            
            previewGrid.querySelector(`.preview-item[data-index="${index}"]`).classList.toggle('selected');
            downloadSelectedBtn.disabled = selectedImages.length === 0;
        }
        
        // Download all images as ZIP
        async function downloadAllImages() {
            if (convertedImages.length === 0) return;
            
            loading.style.display = 'block';
            progressText.textContent = 'Preparing download...';
            
            try {
                const zip = new JSZip();
                const folder = zip.folder(`${pdfFile.name.replace('.pdf', '')}_images`);
                
                // Add each image to the ZIP
                convertedImages.forEach((image, index) => {
                    const base64Data = image.data.split(',')[1];
                    folder.file(`page_${image.pageNumber}.${image.format}`, base64Data, { base64: true });
                });
                
                // Generate and download ZIP
                const content = await zip.generateAsync({ type: 'blob' }, (metadata) => {
                    progressText.textContent = `Compressing: ${metadata.percent.toFixed(1)}%`;
                });
                
                const url = URL.createObjectURL(content);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${pdfFile.name.replace('.pdf', '')}_images.zip`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            } catch (error) {
                console.error('Error creating ZIP:', error);
                alert('An error occurred while creating the ZIP file.');
            } finally {
                loading.style.display = 'none';
            }
        }
        
        // Download selected images
        async function downloadSelectedImages() {
            if (selectedImages.length === 0) return;
            
            if (selectedImages.length === 1) {
                // Download single image directly
                downloadSingleImage(selectedImages[0]);
                return;
            }
            
            loading.style.display = 'block';
            progressText.textContent = 'Preparing download...';
            
            try {
                const zip = new JSZip();
                const folder = zip.folder(`${pdfFile.name.replace('.pdf', '')}_selected_images`);
                
                // Add selected images to ZIP
                selectedImages.forEach(index => {
                    const image = convertedImages[index];
                    const base64Data = image.data.split(',')[1];
                    folder.file(`page_${image.pageNumber}.${image.format}`, base64Data, { base64: true });
                });
                
                // Generate and download ZIP
                const content = await zip.generateAsync({ type: 'blob' }, (metadata) => {
                    progressText.textContent = `Compressing: ${metadata.percent.toFixed(1)}%`;
                });
                
                const url = URL.createObjectURL(content);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${pdfFile.name.replace('.pdf', '')}_selected_images.zip`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            } catch (error) {
                console.error('Error creating ZIP:', error);
                alert('An error occurred while creating the ZIP file.');
            } finally {
                loading.style.display = 'none';
            }
        }
        
        // Download single image
        function downloadSingleImage(index) {
            const image = convertedImages[index];
            const a = document.createElement('a');
            a.href = image.data;
            a.download = `${pdfFile.name.replace('.pdf', '')}_page_${image.pageNumber}.${image.format}`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
        
        // Reset tool to initial state
        function resetTool() {
            pdfFile = null;
            convertedImages = [];
            selectedImages = [];
            fileInput.value = '';
            convertBtn.disabled = true;
            previewContainer.style.display = 'none';
            statsContainer.style.display = 'none';
            fileName.textContent = 'No file selected';
            originalStats.textContent = '-';
            outputStats.textContent = '-';
            timeStats.textContent = '-';
            imageDetails.textContent = 'Waiting for conversion';
        }
        
        // Helper function to read file as ArrayBuffer
        function readFileAsArrayBuffer(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsArrayBuffer(file);
            });
        }
    </script>
</body>
</html>